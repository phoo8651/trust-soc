# SQL Injection (SQLi) 공격 대응 가이드

## 개요
SQL Injection(SQLi)은 공격자가 웹 애플리케이션의 입력값 검증 부재를 악용하여, 악의적인 SQL 구문을 데이터베이스에서 실행시키는 공격입니다. 공격자는 이를 통해 데이터베이스의 정보를 탈취, 변조하거나 인증을 우회할 수 있습니다.

## 탐지 지표 (Indicators)
- **도구 사용**: User-Agent나 페이로드에 `sqlmap` 등의 자동화 도구 흔적
- **SQL 키워드**: `UNION ALL SELECT`, `INFORMATION_SCHEMA`, `BENCHMARK()`, `SLEEP()`, `1=1` 등의 구문 다수 발생
- **비정상 패턴**: 작은따옴표(`'`)나 주석 처리(`--`, `#`) 문자의 빈번한 등장

## 대응 절차 (Playbook)

### 1. 긴급 차단
- **IP 차단**: 공격을 시도하는 소스 IP를 방화벽 또는 WAF에서 즉시 차단하십시오.
- **세션 만료**: 공격자가 로그인 상태라면 해당 세션을 강제 만료시키십시오.

### 2. 영향도 파악
- **데이터 유출 확인**: 응답 데이터의 크기(Response Size)가 비정상적으로 큰 로그가 있는지 확인하여 데이터 유출 여부를 판단하십시오.
- **로그 분석**: 웹 서버 로그(Access Log)와 DB 로그를 교차 분석하여 어떤 쿼리가 실행되었는지 식별하십시오.

### 3. 근본 조치
- **입력값 검증**: 모든 사용자 입력값에 대해 검증 로직을 적용하십시오.
- **Prepared Statement 사용**: 동적 SQL 생성을 피하고, 파라미터화된 쿼리(Prepared Statements)를 사용하도록 코드를 수정하십시오.
- **오류 메시지 숨김**: DB 오류 메시지가 클라이언트에게 그대로 노출되지 않도록 설정하십시오.

## 권장 조치 요약
- Block Source IP
- Check Data Exfiltration
- Apply Input Validation